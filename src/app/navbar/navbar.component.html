<div *ngIf="auth.user$ | async; then authenticated else guest">
  <!-- template will replace this div -->
</div>
<ng-template #guest>
<nav class="navbar navbar-expand-lg navbar-light fixed-top"  style="background: linear-gradient(270deg, #46B5F3 -3.53%, rgba(73, 176, 234, 0) 101.88%), #A4E3F1;
box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
      <a class="navbar-brand" href="#">book and film</a>
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item active">
          <a class="nav-link text-primary" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-primary" href="additem">add item</a>
        </li>
        <div style="padding-left: 20rem;" ></div>
        <form class="form-inline">
          
        </form>
        <!-- <li class="nav-item">
          <a class="nav-link text-primary" href="/login">Disabled</a>
        </li> -->
      </ul>
      
      <form class="form-inline mt-2 mt-md-0" >
        <a class="text-white nav-link " href="/login">
            login
        </a>  
        </form>
        <form class="form-inline mt-2 mt-md-0" >
            <a class="text-white nav-link " href="/signup">
                sign up 
            </a>  
         </form>
       
       
    
          
    </div>
  </nav>

</ng-template>
<ng-template #authenticated>
  <nav class="navbar navbar-expand-lg navbar-light fixed-top"  style="background: linear-gradient(270deg, #46B5F3 -3.53%, rgba(73, 176, 234, 0) 101.88%), #A4E3F1;
box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
      <a class="navbar-brand" href="#">Hidden brand</a>
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item active">
          
          <a class="nav-link text-primary" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-primary" href="additem">add item</a>
        </li>
        <div style="padding-left: 20rem;" ></div>
        <form class="form-inline"  >
          
          
          
    
        </form>
        <!-- <li class="nav-item">
          <a class="nav-link text-primary" href="#">Disabled</a>
        </li> -->
      </ul>
        <div *ngIf="auth.user$ | async as user">
          <form class="form-inline mt-2 mt-md-0" >
            <a class="text-white nav-link "  >
              <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="1.5em" height="1.5em" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve">
              <g id="USERS_1_" enable-background="new    ">
                <g id="USERS">
                  <g>
                    <path d="M40.837,41.984c-3.685-1.828-2.267-0.43-6.79-2.299c-4.524-1.867-5.595-2.478-5.595-2.478l-0.04-4.282c0,0,1.694-1.282,2.223-5.332c1.057,0.305,1.416-1.236,1.473-2.22c0.063-0.951,0.626-3.916-0.669-3.651c0.265-1.979,0.472-3.769,0.378-4.716c-0.323-3.325-2.63-6.798-8.453-7.051c-4.95,0.254-8.164,3.728-8.488,7.054c-0.093,0.947,0.097,2.735,0.361,4.718c-1.293-0.268-0.737,2.702-0.68,3.652c0.062,0.984,0.412,2.53,1.473,2.225c0.526,4.05,2.221,5.342,2.221,5.342l-0.042,4.304c0,0-1.072,0.651-5.596,2.519c-4.524,1.871-3.105,0.388-6.79,2.215c-5.824,2.889-5.824,10.832-5.824,10.832h0.002c0,0-0.001,0.002-0.001,0.004C0,54.023,0.979,55,2.187,55h42.286c1.207,0,2.187-0.977,2.187-2.18c0-0.002,0-0.004,0-0.006h0.001C46.66,52.814,46.66,44.872,40.837,41.984z M63.9,53.012c0,0,0-7.226-5.297-9.854c-3.354-1.663-2.062-0.391-6.179-2.092c-4.116-1.699-5.09-2.254-5.09-2.254l-0.036-3.896c0,0,1.541-1.166,2.021-4.85c0.963,0.277,1.289-1.124,1.341-2.02c0.057-0.865,0.569-3.562-0.608-3.322c0.241-1.801,0.43-3.429,0.344-4.291c-0.293-3.025-2.393-6.184-7.689-6.415c-4.504,0.231-7.428,3.392-7.723,6.417c-0.084,0.862,0.089,2.489,0.33,4.293c-1.178-0.244-0.67,2.458-0.619,3.323c0.058,0.896,0.375,2.302,1.341,2.024c0.479,3.685,2.021,4.86,2.021,4.86l-0.039,3.901c1.4,0.331,1.588,0.063,4.41,1.464c6.604,3.275,6.604,12.282,6.604,12.282h-0.002c0,0.002,0,0.004,0,0.006c0,1.181-0.831,2.165-1.942,2.41H61.91c1.099,0,1.99-0.888,1.99-1.983C63.9,53.014,63.9,53.014,63.9,53.012L63.9,53.012L63.9,53.012z"/>
                  </g>
                </g>
              </g>
              </svg>
          </a> 
          <a class="text-white nav-link "  >
            | 
          </a>
          <a class="text-white nav-link"  >
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="1.3em" height="1.3em" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve">
<g id="SPEECH_1_1_" enable-background="new    ">
	<g id="SPEECH_1">
		<g>
			<path d="M61,3H3C1.343,3,0,4.343,0,6v43c0,1.657,1.343,3,3,3h4v6c0,0.207,0.021,0.409,0.061,0.604
				c0.028,0.137,0.076,0.265,0.122,0.394c0.02,0.056,0.03,0.116,0.053,0.17c0.048,0.115,0.115,0.219,0.177,0.326
				c0.035,0.06,0.061,0.126,0.1,0.184c0.098,0.146,0.212,0.278,0.333,0.404c0.012,0.012,0.021,0.028,0.033,0.04
				c0.534,0.533,1.271,0.865,2.084,0.875C9.976,60.997,9.987,61,10,61c0.828,0,1.578-0.336,2.121-0.879L20.243,52H61
				c1.657,0,3-1.343,3-3V6C64,4.343,62.657,3,61,3z M58,46H17.757L13,50.757V46H6V9h52V46z"/>
		</g>
	</g>
</g>
</svg>
        </a> 
                  <a class="text-white nav-link "  >
                      |
                  </a> 
                  <div ngbDropdown>
                    <div class="nav-item" ngbDropdown>
                      <a class="text-black nav-link" style="cursor: pointer" ngbDropdownToggle id="navbarDropdown2" role="button">
                        <svg id="i-options" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="1.3em" height="1.3em" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                          <path d="M28 6 L4 6 M28 16 L4 16 M28 26 L4 26 M24 3 L24 9 M8 13 L8 19 M20 23 L20 29" />
                      </svg>
                      </a>
                      <div ngbDropdownMenu aria-labelledby="navbarDropdown2" class="dropdown-menu dropdown-menu-right">
                        <a ngbDropdownItem (click)="open(content)"> 

                          <svg class="bi bi-people-circle" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 008 15a6.987 6.987 0 005.468-2.63z"/>
                            <path fill-rule="evenodd" d="M8 9a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M8 1a7 7 0 100 14A7 7 0 008 1zM0 8a8 8 0 1116 0A8 8 0 010 8z" clip-rule="evenodd"/>
                          </svg>
                          
                      
                          profile
                        
                        </a>
                        <a ngbDropdownItem (click)="open(content)" >
                       
                          <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                              width="1em" height="1em" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve">
                            <g id="USER__x2F__ADD_1_" enable-background="new">
                              <g id="USER__x2F__ADD">
                                <g>
                                  <path d="M64.001,59.993c0,0-0.005-0.567-0.099-1.47C62.852,59.432,61.499,60,60,60c0,1.098-0.316,2.114-0.832,3H61c1.657,0,3-1.343,3-3c0-0.003-0.001-0.005-0.001-0.007H64.001z M42,54c0-3.314,2.686-6,6-6c0-1.952,0.945-3.668,2.389-4.764	c-0.797-0.209-1.897-0.571-3.688-1.314c-6.205-2.57-7.675-3.408-7.675-3.408l-0.055-5.894c0,0,2.324-1.764,3.049-7.337c1.451,0.42,1.942-1.701,2.021-3.056c0.086-1.309,0.858-5.389-0.917-5.025c0.363-2.724,0.648-5.187,0.52-6.491c-0.444-4.576-3.608-9.355-11.595-9.704c-6.79,0.349-11.198,5.131-11.643,9.707c-0.128,1.304,0.133,3.765,0.496,6.494c-1.774-0.369-1.01,3.719-0.932,5.027c0.086,1.355,0.566,3.482,2.02,3.062c0.722,5.574,3.046,7.352,3.046,7.352l-0.058,5.924c0,0-1.47,0.896-7.675,3.466c-6.205,2.573-4.259,0.532-9.314,3.047C0,49.061,0,59.992,0,59.992h0.002C0.001,59.995,0,59.998,0,60c0,1.657,1.343,3,3,3h45.832C48.316,62.115,48,61.1,48,60C44.686,60,42,57.314,42,54z M63,54c0-1.657-1.343-3-3-3h-3v-3c0-1.657-1.343-3-3-3s-3,1.343-3,3v3h-3c-1.657,0-3,1.343-3,3s1.343,3,3,3h3v3c0,1.657,1.343,3,3,3s3-1.343,3-3v-3h3	C61.657,57,63,55.657,63,54z"/>
                                </g>
                              </g>
                            </g>
                          </svg>

                          add frinds
                        
                        </a>
                        <a ngbDropdownItem (click)="auth.signOut()" >
                          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                          log out</a>
                      </div>
                    </div>
                  </div>
              </form>
      
        </div>
          
    </div>
  </nav>

</ng-template>








<ng-template #content let-c="close" let-d="dismiss">
  <div *ngIf="auth.user$ | async as user">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title"> ajouter un amis </h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">profile</th>
          <th scope="col">username</th>
          <th scope="col">email</th>
          <th scope="col">uid</th>
          <th scope="col">add</th>
        </tr>
      </thead>
      
      <tbody>
        <tr *ngFor="let allUsers of users | async " >
          
          <td *ngIf="user.uid != allUsers.uid"  > <img [src]="allUsers.photoURL" alt="Avatar" style="width: 40px;border-radius: 50%;" ></td>
          <td *ngIf="user.uid != allUsers.uid"> {{allUsers.displayName}} </td>
          <td *ngIf="user.uid != allUsers.uid">{{allUsers.email }}</td>
          <td *ngIf="user.uid != allUsers.uid">{{allUsers.uid }}</td>
          <td *ngIf="user.uid != allUsers.uid"><button type="button" class="btn btn-primary" (click)=ajoute(user,allUsers) >ajouter</button> </td>
          
        </tr>
      </tbody>
      
    </table>
  </div>
</div>
</ng-template>

